<!DOCTYPE html>
<html>
<head>
  <meta http-equiv='content-type' value='text/html;charset=utf8'>
  <meta name='generator' value='Ronn/v0.7.3 (http://github.com/rtomayko/ronn/tree/0.7.3)'>
  <title>cfn-tool-transform(1) - expand template macros</title>
  <style type='text/css' media='all'>
  /* style: man */
  body#manpage {margin:0}
  .mp {max-width:100ex;padding:0 9ex 1ex 4ex}
  .mp p,.mp pre,.mp ul,.mp ol,.mp dl {margin:0 0 20px 0}
  .mp h2 {margin:10px 0 0 0}
  .mp > p,.mp > pre,.mp > ul,.mp > ol,.mp > dl {margin-left:8ex}
  .mp h3 {margin:0 0 0 4ex}
  .mp dt {margin:0;clear:left}
  .mp dt.flush {float:left;width:8ex}
  .mp dd {margin:0 0 0 9ex}
  .mp h1,.mp h2,.mp h3,.mp h4 {clear:left}
  .mp pre {margin-bottom:20px}
  .mp pre+h2,.mp pre+h3 {margin-top:22px}
  .mp h2+pre,.mp h3+pre {margin-top:5px}
  .mp img {display:block;margin:auto}
  .mp h1.man-title {display:none}
  .mp,.mp code,.mp pre,.mp tt,.mp kbd,.mp samp,.mp h3,.mp h4 {font-family:monospace;font-size:14px;line-height:1.42857142857143}
  .mp h2 {font-size:16px;line-height:1.25}
  .mp h1 {font-size:20px;line-height:2}
  .mp {text-align:justify;background:#fff}
  .mp,.mp code,.mp pre,.mp pre code,.mp tt,.mp kbd,.mp samp {color:#131211}
  .mp h1,.mp h2,.mp h3,.mp h4 {color:#030201}
  .mp u {text-decoration:underline}
  .mp code,.mp strong,.mp b {font-weight:bold;color:#131211}
  .mp em,.mp var {font-style:italic;color:#232221;text-decoration:none}
  .mp a,.mp a:link,.mp a:hover,.mp a code,.mp a pre,.mp a tt,.mp a kbd,.mp a samp {color:#0000ff}
  .mp b.man-ref {font-weight:normal;color:#434241}
  .mp pre {padding:0 4ex}
  .mp pre code {font-weight:normal;color:#434241}
  .mp h2+pre,h3+pre {padding-left:0}
  ol.man-decor,ol.man-decor li {margin:3px 0 10px 0;padding:0;float:left;width:33%;list-style-type:none;text-transform:uppercase;color:#999;letter-spacing:1px}
  ol.man-decor {width:100%}
  ol.man-decor li.tl {text-align:left}
  ol.man-decor li.tc {text-align:center;letter-spacing:4px}
  ol.man-decor li.tr {text-align:right;float:right}
  </style>
  <style type='text/css' media='all'>
  /* style: cfn-tool */
  .mp {margin-left: auto;margin-right: auto}
  </style>
</head>
<!--
  The following styles are deprecated and will be removed at some point:
  div#man, div#man ol.man, div#man ol.head, div#man ol.man.

  The .man-page, .man-decor, .man-head, .man-foot, .man-title, and
  .man-navigation should be used instead.
-->
<body id='manpage'>
  <div class='mp' id='man'>

  <div class='man-navigation' style='display:none'>
    <a href="#NAME">NAME</a>
    <a href="#SYNOPSIS">SYNOPSIS</a>
    <a href="#DESCRIPTION">DESCRIPTION</a>
    <a href="#OPTIONS">OPTIONS</a>
    <a href="#EXAMPLES">EXAMPLES</a>
    <a href="#ENVIRONMENT">ENVIRONMENT</a>
    <a href="#FILES">FILES</a>
    <a href="#EXIT-STATUS">EXIT STATUS</a>
    <a href="#BUGS">BUGS</a>
    <a href="#SEE-ALSO">SEE ALSO</a>
    <a href="#COPYRIGHT">COPYRIGHT</a>
  </div>

  <ol class='man-decor man-head man head'>
    <li class='tl'>cfn-tool-transform(1)</li>
    <li class='tc'>CloudFormation Tools</li>
    <li class='tr'>cfn-tool-transform(1)</li>
  </ol>

  <h2 id="NAME">NAME</h2>
<p class="man-name">
  <code>cfn-tool-transform</code> - <span class="man-whatis">expand template macros</span>
</p>

<h2 id="SYNOPSIS">SYNOPSIS</h2>

<p><code>cfn-tool</code> <code>transform</code> [<var>OPTIONS</var>...] <var>TEMPLATE-FILE</var></p>

<h2 id="DESCRIPTION">DESCRIPTION</h2>

<p>Expands macros in the <var>TEMPLATE-FILE</var>, optionally passing the resulting YAML
through a linter, prints it to <code>stdout</code>, and exits. No nested templates are
processed, no packages are prepared, no validation is performed, and no stack
is deployed. This can be useful for debugging.</p>

<h2 id="OPTIONS">OPTIONS</h2>

<p>Options are configured in the following ways (from lowest to highest priority):
configuration file, environment variables, and command line options.</p>

<p>Each command line option (except for <code>--profile</code> and <code>--region</code>) is associated
with a corresponding environment variable according to the following pattern:
the <code>--bucket</code> option, for example, is associated with the <code>CFN_TOOL_BUCKET</code>
environment variable. The <code>--profile</code> and <code>--region</code> options are special
&mdash; they are associated with the AWS environment variables <code>AWS_PROFILE</code>
and <code>AWS_DEFAULT_REGION</code>.</p>

<p>Environment variables associated with boolean options must have a value of
either <code>true</code> or <code>false</code>. String options are specified identically via the
command line and environment variables.</p>

<p>Options provided via the command line will be automatically exported as their
corresponding environment variables, and will be in the environment of any
shell commands executed during macro expansion. For example, when the
<code>--profile</code> option is specified on the command line there is no need to use it
in shell commands using the <code>aws</code>(1) CLI tool, as the <code>AWS_PROFILE</code> environment
variable is exported by <code>cfn-tool</code> to the environment in which the shell
commands are executed.</p>

<dl>
<dt><code>-c</code>, <code>--config</code>=<var>FILE</var></dt><dd><p>Specify the config file load environment variables from. If this option is
not specified <code>cfn-tool</code> will look for a file named <em>.cfn-tool</em> in the
current directory. This file will be sourced in the <code>bash</code>(1) shell.
Environment variables defined here will be applied as default options.</p></dd>
<dt><code>-l</code>, <code>--linter</code>=<var>COMMAND</var></dt><dd><p>Run <var>COMMAND</var> on each processed template file, aborting if the <var>COMMAND</var>
fails. The template file path is appended to the <var>COMMAND</var> string and the
resulting command line is evaluated in the <code>bash</code>(1) shell (see the
<code>EXAMPLES</code> section below). The <var>COMMAND</var> is executed with its working
directory set to the current directory (ie. the directory in which the
<code>cfn-tool</code> program runs).</p></dd>
<dt><code>-p</code>, <code>--profile</code>=<var>NAME</var></dt><dd><p>Use the AWS profile given by <var>NAME</var> to configure the AWS credentials
provider chain.</p></dd>
<dt><code>-q</code>, <code>--quiet</code></dt><dd><p>Suppress all informational, diagnostic, and warning output.</p></dd>
<dt><code>-r</code>, <code>--region</code>=<var>NAME</var></dt><dd><p>Use the AWS region given by <var>NAME</var> for all AWS API calls.</p></dd>
<dt><code>-v</code>, <code>--verbose</code></dt><dd><p>Print extra diagnostic output while processing.</p></dd>
</dl>


<h2 id="EXAMPLES">EXAMPLES</h2>

<p>Transform the template <em>infra/my-template.yml</em>, lint it with <code>cfn-lint</code>(1),
and print the result to <code>stdout</code>:</p>

<pre><code>cfn-tool transform --linter "cfn-lint -f pretty" infra/my-template.yml
</code></pre>

<h2 id="ENVIRONMENT">ENVIRONMENT</h2>

<p>Each command line option is associated with a corresponding environment
variable. See the <code>OPTIONS</code> section above.</p>

<h2 id="FILES">FILES</h2>

<p>The <code>cfn-tool</code> program will look for a configuration file specified by the
<code>--config</code> option, the <code>CFN_TOOL_CONFIG</code> environment variable, or the default
<code>.cfn-tool</code> file in the current working directory. When this file exists it is
sourced in the <code>bash</code>(1) shell and any configuration environment variables
defined are used as defaults. Here is an example configuration file:</p>

<pre><code>CFN_TOOL_BUCKET=my-infra-${AWS_DEFAULT_REGION:?}
CFN_TOOL_KEEP=true
CFN_TOOL_LINTER="cfn-lint -f pretty -i W1007 --"
CFN_TOOL_PARAMETERS="Zone=${ZONE:?} Service=RestAPI"
CFN_TOOL_TAGS="Zone=${ZONE:?} Service=RestAPI"
</code></pre>

<p>Note that environment variables associated with options specified on the
command line, such as the <code>AWS_DEFAULT_REGION</code> variable above (associated with
the <code>--region</code> command line option), are defined in the environment in which
the configuration file is evaluated when that command line option is specified.</p>

<h2 id="EXIT-STATUS">EXIT STATUS</h2>

<p>Exits with a status of 1 if an error occurred, or 0 otherwise.</p>

<h2 id="BUGS">BUGS</h2>

<p>Please open an issue: <a href="https://github.com/daggerml/cfn-tool/issues" data-bare-link="true">https://github.com/daggerml/cfn-tool/issues</a>.</p>

<h2 id="SEE-ALSO">SEE ALSO</h2>

<p>Man pages for other commands:</p>

<ul>
<li><code>cfn-tool</code>(1)</li>
<li><code>cfn-tool-deploy</code>(1)</li>
<li><code>cfn-tool-update</code>(1)</li>
</ul>


<p>Documentation for built-in macros:</p>

<ul>
<li><code>cfn-tool-macros</code>(7)</li>
</ul>


<h2 id="COPYRIGHT">COPYRIGHT</h2>

<p>Copyright Â© 2021 Micha Niskin <code>&lt;micha.niskin@gmail.com&gt;</code>, distributed under
the following license:</p>

<ul>
<li><a href="https://raw.githubusercontent.com/daggerml/cfn-tool/4.2.1/LICENSE" data-bare-link="true">https://raw.githubusercontent.com/daggerml/cfn-tool/4.2.1/LICENSE</a></li>
</ul>


<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.</p>


  <ol class='man-decor man-foot man foot'>
    <li class='tl'>CloudFormation Tools 4.2.1</li>
    <li class='tc'>April 2021</li>
    <li class='tr'>cfn-tool-transform(1)</li>
  </ol>

  </div>
</body>
</html>
